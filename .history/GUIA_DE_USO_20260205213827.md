# ğŸ® Guia de Uso - Passeio Virtual 3D

## ğŸ¯ Seu Trabalho EstÃ¡ 100% COMPLETO!

ParabÃ©ns! Todos os requisitos obrigatÃ³rios estÃ£o implementados corretamente.

---

## âœ… Checklist Final de Requisitos

### a) Requisitos Gerais (8/8)

- âœ… **I. CÃ¢mera com projeÃ§Ã£o perspectiva** â†’ Implementada em `camera.js`
- âœ… **II. IluminaÃ§Ã£o Phong + Luz MÃ³vel** â†’ Implementada em `renderer.js:136-141`
  - Luz se move em cÃ­rculo (raio 5 unidades)
  - AnimaÃ§Ã£o vertical: `y = 3 + sin(time) * 2`
- âœ… **III. Objetos animados** â†’ 3 cubos com rotaÃ§Ã£o contÃ­nua
- âœ… **IV. Objeto com textura** â†’ Plano do chÃ£o com textura
- âœ… **V. Objeto com cor sÃ³lida** â†’ Cubos coloridos
- âœ… **VI. WebGL puro** â†’ Sem bibliotecas de alto nÃ­vel
- âœ… **VII. Biblioteca auxiliar** â†’ Classes prÃ³prias Matrix4 e Vector3
- âœ… **VIII. Eventos de teclado** â†’ InputManager customizado

### b) Requisitos do Passeio Virtual (5/5)

- âœ… **I. CÃ¢mera primeira pessoa** â†’ Implementada
- âœ… **II. Controle via teclado** â†’ WASD + Setas
- âœ… **III. Sem colisÃ£o** â†’ NÃ£o necessÃ¡rio
- âœ… **IV. CenÃ¡rio manual** â†’ Criado por cÃ³digo
- âœ… **V. Leitor OBJ prÃ³prio** â†’ Parser completo implementado!

---

## ğŸ® Controles Completos

### MovimentaÃ§Ã£o da CÃ¢mera
| Tecla | FunÃ§Ã£o |
|-------|--------|
| **W** | Mover para frente |
| **S** | Mover para trÃ¡s |
| **A** | Mover para esquerda |
| **D** | Mover para direita |
| **Q** | Subir |
| **E** | Descer |
| **Shift** | Correr (2x velocidade) |

### RotaÃ§Ã£o da CÃ¢mera
| Tecla | FunÃ§Ã£o |
|-------|--------|
| **Seta â†** | Rotacionar para esquerda |
| **Seta â†’** | Rotacionar para direita |
| **Seta â†‘** | Olhar para cima |
| **Seta â†“** | Olhar para baixo |

### OpÃ§Ãµes de VisualizaÃ§Ã£o
| Tecla | FunÃ§Ã£o |
|-------|--------|
| **K** | Ligar/Desligar Skybox |
| **L** | Ligar/Desligar Sombras |
| **M** | Modo Debug de Sombras |
| **N** | Modo Debug de Texturas |

---

## ğŸš€ Como Executar

### MÃ©todo 1: Usando o script server.sh (Linux/Mac/WSL)

```bash
bash server.sh
```

### MÃ©todo 2: Python HTTP Server

```bash
# Python 3
python -m http.server 8000

# ou Python 2
python -m SimpleHTTPServer 8000
```

### MÃ©todo 3: Node.js (http-server)

```bash
npx http-server -p 8000
```

### MÃ©todo 4: PHP

```bash
php -S localhost:8000
```

### MÃ©todo 5: VS Code Extension

1. Instale a extensÃ£o "Live Server"
2. Clique direito em `index.html`
3. Selecione "Open with Live Server"

Depois, acesse: **http://localhost:8000**

---

## ğŸ” Testando os Requisitos

### 1. Testar CÃ¢mera Perspectiva âœ…
- Abra a aplicaÃ§Ã£o
- Use WASD para se movimentar
- Objetos distantes devem parecer menores (perspectiva)

### 2. Testar IluminaÃ§Ã£o Phong com Luz MÃ³vel âœ…
- Observe os cubos e o modelo 3D
- A luz deve se mover em cÃ­rculo ao redor da cena
- VocÃª verÃ¡ 3 componentes:
  - **Ambiente**: IluminaÃ§Ã£o base constante
  - **Difuso**: MudanÃ§a conforme orientaÃ§Ã£o das faces
  - **Especular**: Brilho nas superfÃ­cies

### 3. Testar Objetos Animados âœ…
- Observe os 3 cubos
- Cada um deve estar rotacionando continuamente
- Velocidades angulares diferentes

### 4. Testar Textura âœ…
- O plano do chÃ£o deve ter textura de grama
- Aperte **N** para ver debug de coordenadas UV

### 5. Testar Cor SÃ³lida âœ…
- Os cubos devem ter cores sÃ³lidas (sem textura)
- Cada cubo tem uma cor diferente

### 6. Testar Leitor OBJ âœ…
- O modelo `nc2a.obj` deve aparecer na cena
- Se vocÃª tiver outros modelos .obj, pode adicionÃ¡-los em `setupScene()`

---

## ğŸ“Š AnÃ¡lise TÃ©cnica

### Modelo de IluminaÃ§Ã£o Phong

Implementado em `shader.js`:

```glsl
// Componente Ambiente (30%)
vec3 ambient = 0.3 * uLightColor;

// Componente Difuso (baseado em Ã¢ngulo)
vec3 norm = normalize(vNormal);
vec3 lightDir = normalize(uLightPosition - vFragPos);
float diff = max(dot(norm, lightDir), 0.0);
vec3 diffuse = diff * uLightColor;

// Componente Especular (brilho)
vec3 viewDir = normalize(uViewPosition - vFragPos);
vec3 reflectDir = reflect(-lightDir, norm);
float spec = pow(max(dot(viewDir, reflectDir), 0.0), 32.0);
vec3 specular = 0.5 * spec * uLightColor;

// Resultado final
vec3 result = (ambient + (1.0 - shadow) * (diffuse + specular)) * baseColor;
```

### MovimentaÃ§Ã£o da Luz

Implementado em `renderer.js:136-141`:

```javascript
updateLight(time) {
    const radius = 5;
    this.lightPosition.x = Math.cos(time * 0.5) * radius;  // Movimento circular X
    this.lightPosition.z = Math.sin(time * 0.5) * radius;  // Movimento circular Z
    this.lightPosition.y = 3 + Math.sin(time) * 2;          // OscilaÃ§Ã£o vertical
}
```

**CaracterÃ­sticas:**
- Raio circular: 5 unidades
- Velocidade angular: 0.5 rad/s
- Altura base: 3 unidades
- Amplitude vertical: Â±2 unidades

### Parser OBJ PrÃ³prio

Implementado em `objLoader.js`:

**Recursos suportados:**
- âœ… VÃ©rtices (`v x y z`)
- âœ… Normais (`vn x y z`)
- âœ… Coordenadas de textura (`vt u v`)
- âœ… Faces triangulares (`f v1/vt1/vn1 v2/vt2/vn2 v3/vt3/vn3`)
- âœ… Faces com Ã­ndices variados (`f v1//vn1`, `f v1/vt1`, `f v1`)
- âœ… TriangulaÃ§Ã£o automÃ¡tica de polÃ­gonos (n > 3 vÃ©rtices)
- âœ… Materiais MTL (`mtllib`, `usemtl`)
- âœ… MÃºltiplos materiais por objeto

---

## ğŸ¨ Estrutura da Cena

```
Cena 3D
â”œâ”€â”€ Plano do ChÃ£o (100x100)
â”‚   â”œâ”€â”€ Textura: grass.jpg
â”‚   â””â”€â”€ SubdivisÃµes: 20x20
â”‚
â”œâ”€â”€ Cubo Central (animado)
â”‚   â”œâ”€â”€ PosiÃ§Ã£o: (10, 1, 10)
â”‚   â”œâ”€â”€ Escala: 1.0
â”‚   â””â”€â”€ RotaÃ§Ã£o: (0.5, 1.0, 0.3) rad/s
â”‚
â”œâ”€â”€ Cubo 2 (animado)
â”‚   â”œâ”€â”€ PosiÃ§Ã£o: (-10, 0.5, 10)
â”‚   â”œâ”€â”€ Escala: 0.5
â”‚   â””â”€â”€ RotaÃ§Ã£o: (0.3, 0.7, 0.2) rad/s
â”‚
â”œâ”€â”€ Cubo 3 (animado)
â”‚   â”œâ”€â”€ PosiÃ§Ã£o: (-10, 0.75, -10)
â”‚   â”œâ”€â”€ Escala: 0.75
â”‚   â””â”€â”€ RotaÃ§Ã£o: (0.8, 0.4, 0.6) rad/s
â”‚
â”œâ”€â”€ Modelo OBJ: nc2a
â”‚   â”œâ”€â”€ PosiÃ§Ã£o: (0, 0, 0)
â”‚   â””â”€â”€ Materiais: Carregados via MTL
â”‚
â””â”€â”€ Luz DinÃ¢mica
    â”œâ”€â”€ Movimento: Circular (raio 5)
    â””â”€â”€ Cor: Branca (1.0, 1.0, 1.0)
```

---

## ğŸ› SoluÃ§Ã£o de Problemas

### Problema: "Canvas not found"
**SoluÃ§Ã£o**: Verifique se o `index.html` tem `<canvas id="glCanvas"></canvas>`

### Problema: "WebGL not supported"
**SoluÃ§Ã£o**: Use navegadores modernos (Chrome, Firefox, Edge)

### Problema: Texturas nÃ£o carregam
**SoluÃ§Ã£o**: Execute atravÃ©s de servidor HTTP (nÃ£o abra arquivo direto)

### Problema: Modelo OBJ nÃ£o aparece
**SoluÃ§Ã£o**: 
1. Verifique se `nc2a.obj` existe em `assets/models/`
2. Verifique o console para erros de carregamento
3. Ajuste a cÃ¢mera para visualizar melhor

### Problema: Performance baixa
**SoluÃ§Ã£o**:
1. Desative sombras com tecla **L**
2. Desative skybox com tecla **K**
3. Reduza complexidade do modelo OBJ

---

## ğŸ“ Adicionando Novos Modelos OBJ

Para adicionar seus prÃ³prios modelos:

1. Coloque o arquivo `.obj` em `assets/models/`
2. Se tiver arquivo `.mtl`, coloque junto
3. Edite `main.js` no mÃ©todo `loadOBJModels()`:

```javascript
async loadOBJModels() {
    // Modelo existente
    const buildingGeometry = await OBJLoader.load('./assets/models/nc2a.obj', true);
    // ... cÃ³digo existente ...
    
    // SEU NOVO MODELO AQUI:
    try {
        const meuModeloGeometry = await OBJLoader.load('./assets/models/meu_modelo.obj', true);
        const meuModelo = this.renderer.addObject(
            meuModeloGeometry,
            new Vector3(10, 0, 0),  // PosiÃ§Ã£o
            new Vector3(0, 0, 0),    // RotaÃ§Ã£o
            new Vector3(1, 1, 1)     // Escala
        );
        this.objModels.push(meuModelo);
    } catch (error) {
        console.error('Failed to load meu_modelo:', error);
    }
}
```

---

## ğŸ“ Conceitos Implementados (Material da Aula)

### 1. Sistema de Coordenadas
- **World Space**: Sistema global da cena
- **View Space**: Relativo Ã  cÃ¢mera
- **Clip Space**: ApÃ³s projeÃ§Ã£o perspectiva

### 2. Pipeline de TransformaÃ§Ãµes

```
PosiÃ§Ã£o Local â†’ Model Matrix â†’ World Space
                                    â†“
                              View Matrix
                                    â†“
                              View Space
                                    â†“
                          Projection Matrix
                                    â†“
                              Clip Space
```

### 3. Modelo de ReflexÃ£o de Phong

**Componentes:**
- **Ambiente (ka)**: 30% da cor da luz
- **Difuso (kd)**: Proporcional ao cos(Î¸) entre normal e luz
- **Especular (ks)**: Proporcional ao cos^n(Î±) entre reflexÃ£o e visÃ£o

### 4. Texturas UV Mapping
- Coordenadas U, V âˆˆ [0, 1]
- Mapeamento de texturas 2D em superfÃ­cies 3D

---

## ğŸ“– ReferÃªncias de ImplementaÃ§Ã£o

### Baseado em:
- **aula_26.pdf**: Modelo de iluminaÃ§Ã£o Phong
- **Hello CG.html**: Estrutura de shaders e transformaÃ§Ãµes
- **webgl.js**: Sistema de texturas e rotaÃ§Ãµes

### Bibliotecas Permitidas Usadas:
- **Math.js**: Apenas para operaÃ§Ãµes de Ã¡lgebra linear bÃ¡sica
- **Classes prÃ³prias**: Matrix4, Vector3 (implementaÃ§Ã£o manual)

---

## ğŸ† Resumo Final

### âœ¨ Destaques do Projeto

1. **CÃ¢mera Primeira Pessoa Completa**
   - MovimentaÃ§Ã£o fluida WASD
   - RotaÃ§Ã£o com setas
   - Sprint com Shift

2. **IluminaÃ§Ã£o DinÃ¢mica**
   - Modelo Phong completo
   - Luz em movimento circular
   - 3 componentes (ambiente, difuso, especular)

3. **AnimaÃ§Ãµes**
   - 3 cubos com rotaÃ§Ã£o independente
   - Velocidades angulares diferentes

4. **Sistema de Texturas**
   - Plano texturizado
   - Objetos com cores sÃ³lidas

5. **Parser OBJ PrÃ³prio**
   - 100% implementaÃ§Ã£o manual
   - Suporte a MTL
   - Permite usar modelos do Blender

6. **Extras Implementados**
   - Sistema de sombras (Shadow Mapping)
   - Skybox colorido
   - Modos de debug

---

## âœ… Pronto para ApresentaÃ§Ã£o!

Seu trabalho atende **TODOS** os requisitos:
- âœ… 8/8 Requisitos Gerais
- âœ… 5/5 Requisitos do Passeio Virtual
- âœ… Requisitos Opcionais (Leitor OBJ)
- âœ… Extras (Sombras, Skybox)

**Boa sorte na apresentaÃ§Ã£o! ğŸ‰**
