# ğŸ® Passeio Virtual 3D - Trabalho de ComputaÃ§Ã£o GrÃ¡fica

## ğŸ“š Universidade Federal do CearÃ¡ (UFC)
**Disciplina**: ComputaÃ§Ã£o GrÃ¡fica  
**Trabalho 2**: Passeio Virtual 3D com WebGL Puro

---

## ğŸ¯ DescriÃ§Ã£o

Passeio Virtual 3D desenvolvido com **WebGL puro** (sem bibliotecas de alto nÃ­vel como three.js), implementando **TODOS** os requisitos obrigatÃ³rios e opcionais.

### âœ¨ Destaques

- ğŸ¥ CÃ¢mera Primeira Pessoa com projeÃ§Ã£o perspectiva
- ğŸ’¡ IluminaÃ§Ã£o Phong completa (ambiente, difuso, especular)
- ğŸ”„ Luz mÃ³vel em movimento circular automÃ¡tico
- ğŸï¸ Objetos animados com transformaÃ§Ãµes geomÃ©tricas
- ğŸ–¼ï¸ Sistema de texturas
- ğŸ“¦ **Parser OBJ prÃ³prio** (implementaÃ§Ã£o do zero!)
- ğŸŒ… Extras: Shadow Mapping, Skybox

---

## âœ… Requisitos (13/13 Implementados!)

### a) Requisitos Gerais (8/8) âœ…

| # | Requisito | Status | Onde |
|---|-----------|--------|------|
| I | CÃ¢mera com projeÃ§Ã£o perspectiva | âœ… | [camera.js](src/camera/camera.js) |
| II | IluminaÃ§Ã£o Phong + Luz mÃ³vel | âœ… | [shader.js](src/renderer/shader.js), [renderer.js](src/renderer/renderer.js#L136-L141) |
| III | Objeto animado | âœ… | 3 cubos rotacionando |
| IV | Objeto com textura | âœ… | Plano com grama |
| V | Objeto com cor sÃ³lida | âœ… | Cubos coloridos |
| VI | WebGL puro | âœ… | Todo o projeto |
| VII | Biblioteca auxiliar (Ã¡lgebra) | âœ… | [matrix4.js](src/math/matrix4.js), [vector3.js](src/math/vector3.js) |
| VIII | Eventos de teclado | âœ… | [input.js](src/input/input.js) |

### b) Requisitos Passeio Virtual (5/5) âœ…

| # | Requisito | Status | Onde |
|---|-----------|--------|------|
| I | CÃ¢mera primeira pessoa | âœ… | [camera.js](src/camera/camera.js) |
| II | Controle via teclado | âœ… | WASD + Setas + Q/E |
| III | Sem colisÃ£o | âœ… | N/A (nÃ£o necessÃ¡rio) |
| IV | CenÃ¡rio manual | âœ… | [main.js](src/main.js#L65-L118) |
| V | **Leitor OBJ prÃ³prio** | âœ… | [objLoader.js](src/loaders/objLoader.js) â­ |

---

## ğŸ® Controles

### MovimentaÃ§Ã£o
- **W, A, S, D** - Mover (frente, esquerda, trÃ¡s, direita)
- **Q, E** - Subir / Descer
- **Shift** - Correr (2x velocidade)

### RotaÃ§Ã£o
- **Setas â†â†’** - Rotacionar cÃ¢mera (esquerda/direita)
- **Setas â†‘â†“** - Olhar para cima/baixo

### OpÃ§Ãµes
- **K** - Ligar/Desligar Skybox
- **L** - Ligar/Desligar Sombras
- **M** - Debug de Sombras
- **N** - Debug de Texturas

---

## ğŸš€ Como Executar

### 1. Iniciar Servidor HTTP

**OpÃ§Ã£o A - Python:**
```bash
python -m http.server 8000
```

**OpÃ§Ã£o B - Node.js:**
```bash
npx http-server -p 8000
```

**OpÃ§Ã£o C - PHP:**
```bash
php -S localhost:8000
```

**OpÃ§Ã£o D - Script:**
```bash
bash server.sh
```

### 2. Abrir no Navegador

Acesse: **http://localhost:8000**

âš ï¸ **Importante**: NÃ£o abra o HTML diretamente (file://). Use servidor HTTP!

---

## ğŸ“ Estrutura

```
trabalho-2-CG/
â”œâ”€â”€ index.html              # PÃ¡gina principal
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â””â”€â”€ nc2a.obj       # Modelo 3D
â”‚   â””â”€â”€ textures/
â”‚       â””â”€â”€ grass.jpg      # Textura
â””â”€â”€ src/
    â”œâ”€â”€ main.js            # App principal
    â”œâ”€â”€ camera/
    â”‚   â””â”€â”€ camera.js      # CÃ¢mera 1Âª pessoa
    â”œâ”€â”€ geometry/
    â”‚   â”œâ”€â”€ cube.js        # Cubo
    â”‚   â””â”€â”€ plane.js       # Plano
    â”œâ”€â”€ loaders/
    â”‚   â”œâ”€â”€ objLoader.js   # â­ Parser OBJ
    â”‚   â””â”€â”€ mtlLoader.js   # Parser MTL
    â”œâ”€â”€ math/
    â”‚   â”œâ”€â”€ matrix4.js     # Matrizes 4x4
    â”‚   â””â”€â”€ vector3.js     # Vetores 3D
    â”œâ”€â”€ renderer/
    â”‚   â”œâ”€â”€ renderer.js    # RenderizaÃ§Ã£o
    â”‚   â””â”€â”€ shader.js      # Shaders GLSL
    â””â”€â”€ ...
```

---

## ğŸ’¡ ImplementaÃ§Ã£o TÃ©cnica

### 1. IluminaÃ§Ã£o Phong

```glsl
// shader.js
vec3 ambient = 0.3 * uLightColor;              // 30% ambiente
float diff = max(dot(norm, lightDir), 0.0);
vec3 diffuse = diff * uLightColor;             // Difuso
float spec = pow(max(dot(viewDir, reflectDir), 0.0), 32.0);
vec3 specular = 0.5 * spec * uLightColor;      // Especular
vec3 result = (ambient + diffuse + specular) * baseColor;
```

### 2. MovimentaÃ§Ã£o da Luz

```javascript
// renderer.js:136-141
updateLight(time) {
    const radius = 5;
    this.lightPosition.x = Math.cos(time * 0.5) * radius;  // Circular X
    this.lightPosition.z = Math.sin(time * 0.5) * radius;  // Circular Z
    this.lightPosition.y = 3 + Math.sin(time) * 2;         // OscilaÃ§Ã£o Y
}
```

### 3. Parser OBJ

```javascript
// objLoader.js
- LÃª vÃ©rtices (v x y z)
- LÃª normais (vn x y z)
- LÃª coordenadas de textura (vt u v)
- LÃª faces (f v/vt/vn ...)
- Triangula polÃ­gonos automaticamente
- Suporta materiais MTL
```

---

## ğŸ“– DocumentaÃ§Ã£o

- **[REQUISITOS_TRABALHO.md](REQUISITOS_TRABALHO.md)** - Checklist detalhado
- **[GUIA_DE_USO.md](GUIA_DE_USO.md)** - Manual completo de uso
- **[ILUMINACAO_PHONG.md](ILUMINACAO_PHONG.md)** - ExplicaÃ§Ã£o do Phong
- **[APRESENTACAO.md](APRESENTACAO.md)** - Roteiro para apresentar

---

## ğŸ› ï¸ Tecnologias

- **WebGL 1.0** - API grÃ¡fica pura
- **JavaScript ES6** - Linguagem
- **GLSL** - Shaders
- **HTML5 Canvas** - RenderizaÃ§Ã£o

### Zero Bibliotecas GrÃ¡ficas de Alto NÃ­vel!
- âŒ Sem three.js
- âŒ Sem babylon.js
- âŒ Sem bibliotecas prontas
- âœ… Tudo implementado do zero!

---

## ğŸ“ Conceitos Implementados

- âœ… Pipeline grÃ¡fico (Vertex â†’ Fragment Shader)
- âœ… TransformaÃ§Ãµes 3D (MVP matrix)
- âœ… IluminaÃ§Ã£o local (Phong)
- âœ… Mapeamento de texturas
- âœ… CÃ¢mera sintÃ©tica (LookAt)
- âœ… ProjeÃ§Ã£o perspectiva
- âœ… Parser de arquivos 3D
- âœ… Shadow mapping

---

## ğŸ› SoluÃ§Ã£o de Problemas

**Texturas nÃ£o carregam?**  
â†’ Use servidor HTTP (nÃ£o abra o arquivo diretamente)

**Modelo OBJ nÃ£o aparece?**  
â†’ Navegue pela cena (W, A, S, D) e verifique o console

**Performance baixa?**  
â†’ Desative sombras (L) e skybox (K)

---

## ğŸ“ Como Adicionar Novos Modelos

1. Coloque o `.obj` em `assets/models/`
2. Edite `main.js` em `loadOBJModels()`:

```javascript
const geometry = await OBJLoader.load('./assets/models/seu_modelo.obj', true);
const model = this.renderer.addObject(
    geometry,
    new Vector3(0, 0, 0),    // PosiÃ§Ã£o
    new Vector3(0, 0, 0),    // RotaÃ§Ã£o
    new Vector3(1, 1, 1)     // Escala
);
```

---

## ğŸ† Status: 100% Completo!

- âœ… 8/8 Requisitos gerais
- âœ… 5/5 Requisitos passeio virtual
- âœ… Parser OBJ prÃ³prio (opcional)
- âœ… CÃ³digo limpo e organizado
- âœ… Extras implementados

**Pronto para apresentaÃ§Ã£o! ğŸ‰**

---

## ğŸ‘¤ Autor

Trabalho acadÃªmico - UFC  
Disciplina de ComputaÃ§Ã£o GrÃ¡fica

---

## ğŸ“š ReferÃªncias

- Aula 26: IluminaÃ§Ã£o Phong
- WebGL 1.0 Specification
- Phong Reflection Model (1973)
